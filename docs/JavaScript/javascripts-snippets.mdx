---
title: 'JavaScript Snippets'
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

## Dynamic object key

```js
const { name, id } = event.target
setSearchParams({ [name]: id })
```

## Conditional object prop

```js
const a = {
  ...(someCondition && { b: 5 }),
}
```

## Measure function runtime

```js
console.time('filter array') // C1.1
const start = performance.now() // C2.1
const visibleTodos = getFilteredTodos(todos, filter)
console.timeEnd('filter array') // C1.2
const end = performance.now() // C2.2
console.log('filter array took', end - start, 'ms') // C2.3
```

## Scroll to top

```jsx
const handleScrollTop = () => {
  window.scrollTo({ top: 0, behavior: 'smooth' })
}
```

## Array from 1 to n

```js
Array.from({ length: 5 }, (_, i) => i + 1) // [1, 2, 3, 4, 5]
```

## Array with n elements

```js
Array(5).fill(0) // [0, 0, 0, 0, 0]
```

## Swap array items

```js
let arr = ([1, 2, 3, 4, 5][(arr[0], arr[1])] = [arr[1], arr[0]])
```

## Move array item to last position

```js
array.push(array.splice(index, 1)[0]) // Already know the index of the item to move
array.push(array.splice(array.indexOf(element), 1)[0]) // If you don't have the index, and only the element
```

## Shallow Copy vs Deep Copy

```js
var obj = [{ a: 1 }, { b: 2 }]
var shallow = _.clone(obj)
console.log(shallow[0] === obj[0]) // => true
var deep = _.cloneDeep(obj)
console.log(deep[0] === obj[0]) // => false
```

## Delete Reference value

```js
let arr1 = [1, 2]
const arr2 = arr1
// ❌ Xóa arr1 dính luôn arr2
arr1.length = 0 // arr2 = []
arr1.splice(0, arr1.length) // arr2 = []
// ✅ Xóa arr1 ko ảnh hưởng đến arr2
arr1 = [] // arr2 = [1, 2];
```

## Destructing

```ts
const {
  data: {
    plans,
    plans: [plan1, plan2],
  },
} = {
  data: {
    plans: [
      { a: 1, b: 2 },
      { a: 3, b: 4 },
    ],
  },
}
```

## Date Time

```js
Date.now() // Returns numbers. Faster than new Date().getTime()
const eventTime = new Date() // Tue Nov 16 2021 23:37:35 GMT+0700 (Indochina Time)
eventTime.toLocaleString() // 11/16/2021, 11:37:35 PM
eventTime.toLocaleDateString() // 11/16/2021
eventTime.toLocaleTimeString() // 11:37:35 PM
```

## Barrel

A container file and is represented by `index.js` file which exports different files together within the _same_ folder.

<Tabs>
  <TabItem value="Carousel" label="Components/Carousel.jsx">

```jsx
export default function Carousel() {
  return <h1>Carousel</h1>
}
```

  </TabItem>

  <TabItem value="Product" label="Components/Product.jsx">

```jsx
export default function Product() {
  return <h1>Product</h1>
}
```

  </TabItem>

  <TabItem value="index" label="Components/index.js">

```js
export { default as Cart } from './Cart'
export { default as Product } from './Product'
```

  </TabItem>

  <TabItem value="Cart" label="Cart/Cart.jsx">

```jsx
import { Carousel } from '../Components'
import { Product } from '../Components'

export default function Cart() {
  return (
    <div>
      <Carousel />
      <Product />
    </div>
  )
}
```

  </TabItem>

</Tabs>
